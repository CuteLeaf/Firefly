import{p as G,o as ce,i as l,s as H,r as ve}from"./translation.CPsM6BQ6.js";import{i as pe}from"./lifecycle.Bwpx8HfV.js";import{f as me,t as x,g as i,e as fe,a as n,p as ue,b as he,s as c,c as u,d as h,u as v,h as b,i as m,j as t,m as z,r}from"./render.Bj8FFFlJ.js";import{I as K,i as J,h as O}from"./Icon.CgzQmn_8.js";import{e as xe,i as _e}from"./each.CE7fl43D.js";import{b as be}from"./input.B4jlEdZZ.js";import{I as p}from"./zh_TW.BgXONg39.js";import{u as Q}from"./url-utils.BO0hhQIW.js";/* empty css                        */import"./branches.0Y2RxVQ-.js";/* empty css                        */var ge=m('<p class="text-base text-50 leading-relaxed"> </p>'),ye=m('<div class="flex justify-center py-10"><!></div>'),we=m('<div class="card-base p-6 block rounded-(--radius-large)"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-(--primary) transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),ke=m('<div class="space-y-4"></div>'),Se=m('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),Ie=m('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),Re=m('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-(--radius-large)"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-(--primary) flex items-center justify-center text-white dark:text-black/70"><!></div> <div class="text-3xl font-bold text-90"> </div></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-(--primary) focus:border-(--primary) hover:border-black/20 dark:hover:border-white/20 text-75 placeholder:opacity-50 transition-colors outline-hidden"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function Ue(V,g){he(g,!1);let W=G(g,"title",24,()=>l(p.search)),M=G(g,"description",8,""),d=z(""),f=z([]),y=z(!1),D=!1;const X=()=>typeof window<"u"&&new URLSearchParams(window.location.search).get("q")||"",Pe=[{url:Q("/"),meta:{title:"Dev Mode Search Result 1"},excerpt:"This is a <mark>mock</mark> result for development."},{url:Q("/"),meta:{title:"Dev Mode Search Result 2"},excerpt:"Pagefind only works in <mark>production</mark> build."}],L=async()=>{if(!D||!i(d).trim()){c(f,[]);return}c(y,!0);try{if(window.pagefind){const e=await window.pagefind.search(i(d)),a=await Promise.all(e.results.map(s=>s.data()));c(f,a)}}catch(e){console.error("Search error:",e),c(f,[])}finally{c(y,!1)}};ce(()=>{const e=async()=>{D=!0;const a=X();a&&c(d,a),i(d).trim()&&await L()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});let q;const Y=()=>{clearTimeout(q),q=setTimeout(()=>{L()},300)};pe();var A=Re(),w=me(A),k=t(w),S=t(k),I=t(S),Z=t(I);K(Z,{icon:"material-symbols:search",class:"text-[1.5rem]"}),r(I);var E=u(I,2),$=t(E,!0);r(E),r(S);var ee=u(S,2);{var ae=e=>{var a=ge(),s=t(a,!0);r(a),x(()=>b(s,M())),n(e,a)};J(ee,e=>{M()&&e(ae)})}r(k);var N=u(k,2),U=t(N),R=t(U),re=t(R);K(re,{icon:"material-symbols:search",class:"text-2xl text-50"}),r(R);var _=u(R,2);ve(_),r(U),r(N),r(w);var B=u(w,2),C=t(B),te=t(C);{var ie=e=>{var a=ye(),s=t(a);K(s,{icon:"svg-spinners:ring-resize",class:"text-4xl text-(--primary)"}),r(a),n(e,a)},se=e=>{var a=ke();xe(a,5,()=>i(f),_e,(s,o)=>{var P=we(),T=t(P),j=t(T),le=t(j);O(le,()=>(i(o),v(()=>i(o).meta.title))),r(j);var F=u(j,2),ne=t(F);O(ne,()=>(i(o),v(()=>i(o).excerpt))),r(F),r(T),r(P),x(()=>H(T,"href",(i(o),v(()=>i(o).url)))),n(s,P)}),r(a),n(e,a)},oe=e=>{var a=Se(),s=t(a,!0);r(a),x(o=>b(s,o),[()=>(h(l),h(p),v(()=>l(p.searchNoResults)))]),n(e,a)},de=e=>{var a=Ie(),s=t(a,!0);r(a),x(o=>b(s,o),[()=>(h(l),h(p),v(()=>l(p.searchTypeSomething)))]),n(e,a)};J(te,e=>{i(y)?e(ie):(i(f),v(()=>i(f).length>0)?e(se,1):i(d)?e(oe,2):e(de,!1))})}r(C),r(B),x(e=>{b($,W()),H(_,"placeholder",e)},[()=>(h(l),h(p),v(()=>l(p.search)))]),be(_,()=>i(d),e=>c(d,e)),fe("input",_,Y),n(V,A),ue()}export{Ue as default};
