import{s as H}from"./zh_TW.BgXONg39.js";const s={mode:"banner",banner:{homeText:{enable:!0},navbar:{transparentMode:"semifull",enableBlur:!0},waves:{enable:{desktop:!0,mobile:!0},switchable:!0}}},c={darkTheme:"one-dark-pro",lightTheme:"one-light"},m="light",k="dark",p="system",b="banner",y="overlay",w="none",N=35,T=30,j=N+T,u=e=>{const n="/".endsWith("/")?"/".slice(0,-1):"/";return e==="/"||e===n||e==="/"};function v(){if(typeof document>"u")return Number.parseInt("250",10);const t=document.getElementById("config-carrier");return Number.parseInt(t?.dataset.hue||"250",10)}function S(){return H.themeColor.defaultMode}function C(){return typeof window>"u"?m:window.matchMedia("(prefers-color-scheme: dark)").matches?k:m}function P(e){return e===p?C():e}function F(){if(typeof window>"u"||!window.localStorage)return v();const e=localStorage.getItem("hue");return e?Number.parseInt(e,10):v()}function G(e){if(typeof window>"u"||!window.localStorage||typeof document>"u")return;localStorage.setItem("hue",String(e));const t=document.querySelector(":root");t&&t.style.setProperty("--hue",String(e))}function x(e){if(typeof document>"u")return;const t=P(e),n=document.documentElement.classList.contains("dark"),a=document.documentElement.getAttribute("data-theme");let o=!1;switch(t){case m:o=!1;break;case k:o=!0;break;default:o=n;break}const l=n!==o,r=o?c.darkTheme:c.lightTheme,d=a!==r;!l&&!d||(l&&(o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),d&&document.documentElement.setAttribute("data-theme",r))}let i=null;function z(e){typeof localStorage>"u"||typeof localStorage.setItem!="function"||(x(e),localStorage.setItem("theme",e),e===p?I():M())}function I(){if(M(),typeof window>"u")return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=n=>{const a=n.matches;if(document.documentElement.classList.contains("dark")===a)return;a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const l=a?c.darkTheme:c.lightTheme;document.documentElement.setAttribute("data-theme",l),window.dispatchEvent(new CustomEvent("theme-change"))};t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),i=t}function M(){if(typeof window>"u"||!i)return;const e=window.matchMedia("(prefers-color-scheme: dark)");e.removeEventListener?e.removeEventListener("change",i):e.removeListener(i),i=null}function q(){return typeof localStorage>"u"||typeof localStorage.getItem!="function"?S():localStorage.getItem("theme")||S()}function Q(){if(typeof localStorage>"u"||typeof localStorage.getItem!="function")return;q()===p&&I()}function A(e){if((document.documentElement.getAttribute("data-wallpaper-mode")||s.mode)===e){O(e);return}document.documentElement.classList.add("is-wallpaper-transitioning"),document.documentElement.setAttribute("data-wallpaper-mode",e),requestAnimationFrame(()=>{const n=document.body;switch(n.classList.remove("enable-banner","wallpaper-transparent"),e){case b:n.classList.add("enable-banner"),B();break;case y:n.classList.add("wallpaper-transparent"),D();break;case w:f();break;default:f();break}W(e),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-wallpaper-transitioning")})})}function O(e){const t=document.body;switch(t.classList.remove("enable-banner","wallpaper-transparent"),e){case b:t.classList.add("enable-banner"),B();break;case y:t.classList.add("wallpaper-transparent"),D();break;case w:f();break}W(e)}function B(){const e=document.getElementById("wallpaper-wrapper");if(e){e.classList.remove("wallpaper-overlay"),e.style.top=`-${T}vh`;const r=u(window.location.pathname);window.innerWidth<1024&&!r?(e.style.display="none",e.classList.add("mobile-hide-banner")):(e.style.display="block",e.style.setProperty("display","block","important"),requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100"),e.classList.remove("mobile-hide-banner")}))}const t=document.getElementById("banner-credit-desktop"),n=document.getElementById("banner-credit-mobile");t&&(t.style.display=""),n&&(n.style.display="");const a=document.querySelector(".banner-home-text-overlay");a&&(u(window.location.pathname)?a.classList.remove("hidden"):a.classList.add("hidden")),g("banner");const o=document.querySelector(".absolute.w-full.z-30");if(o){const r=u(window.location.pathname);window.innerWidth<1024&&!r?o.classList.add("mobile-main-no-banner"):o.classList.remove("mobile-main-no-banner")}h(!1);const l=document.getElementById("navbar");if(l){const r=s.banner?.navbar?.transparentMode;l.setAttribute("data-transparent-mode",r),typeof window.initSemifullScrollDetection=="function"&&window.initSemifullScrollDetection()}}function D(){const e=document.getElementById("wallpaper-wrapper");e&&(e.classList.add("wallpaper-overlay"),e.style.display="block",e.style.setProperty("display","block","important"),e.style.top="",requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100"),e.classList.remove("mobile-hide-banner")}));const t=document.getElementById("banner-credit-desktop"),n=document.getElementById("banner-credit-mobile");t&&(t.style.display="none"),n&&(n.style.display="none");const a=document.querySelector(".banner-home-text-overlay");a&&a.classList.add("hidden"),h(!0),g("overlay")}function f(){const e=document.getElementById("wallpaper-wrapper");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0"),e.classList.remove("wallpaper-overlay"));const t=document.getElementById("banner-credit-desktop"),n=document.getElementById("banner-credit-mobile");t&&(t.style.display="none"),n&&(n.style.display="none");const a=document.querySelector(".banner-home-text-overlay");a&&a.classList.add("hidden"),g("none"),h(!1)}function W(e){const t=document.getElementById("navbar");if(!t)return;let n,a;e===y||e===w?(n="none",a=!1):(n=s.banner?.navbar?.transparentMode,a=s.banner?.navbar?.enableBlur),t.setAttribute("data-transparent-mode",n),t.setAttribute("data-enable-blur",String(a)),t.classList.remove("navbar-transparent-semi","navbar-transparent-full","navbar-transparent-semifull"),t.classList.remove("scrolled"),n==="semifull"&&e===b&&typeof window.initSemifullScrollDetection=="function"?window.initSemifullScrollDetection():window.semifullScrollHandler&&(window.removeEventListener("scroll",window.semifullScrollHandler),delete window.semifullScrollHandler)}function g(e){const t=document.querySelector(".absolute.w-full.z-30");if(t)switch(t.classList.remove("mobile-main-no-banner","no-banner-layout"),e){case"banner":t.style.top="calc(var(--banner-height) - 3rem)";break;case"overlay":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;case"none":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;default:t.style.top="5.5rem";break}}function h(e){const t=document.querySelector(".absolute.w-full.z-30"),n=document.body;!t||!n||(e?(t.classList.add("wallpaper-transparent"),n.classList.add("wallpaper-transparent")):(t.classList.remove("wallpaper-transparent"),n.classList.remove("wallpaper-transparent")))}function Y(e){typeof localStorage>"u"||typeof localStorage.setItem!="function"||(localStorage.setItem("wallpaperMode",e),A(e))}function K(){const e=_();A(e)}function _(){return typeof localStorage>"u"||typeof localStorage.getItem!="function"?s.mode:localStorage.getItem("wallpaperMode")||s.mode}function E(){const e=s.banner?.waves?.enable;return typeof e=="object"?(typeof window<"u"?window.innerWidth<768:!1)?e.mobile:e.desktop:e??!1}function V(){if(typeof localStorage>"u"||typeof localStorage.getItem!="function")return E();const e=localStorage.getItem("wavesEnabled");return e===null?E():e==="true"}function X(e){typeof localStorage>"u"||typeof localStorage.setItem!="function"||(localStorage.setItem("wavesEnabled",String(e)),R(e))}function R(e){if(typeof document>"u")return;document.documentElement.setAttribute("data-waves-enabled",String(e));const t=document.getElementById("header-waves");t&&(e?(t.style.display="",t.classList.remove("waves-disabled")):(t.style.display="none",t.classList.add("waves-disabled")))}function L(){return s.banner?.homeText?.enable}function J(){if(typeof localStorage>"u"||typeof localStorage.getItem!="function")return L();const e=localStorage.getItem("bannerTitleEnabled");return e===null?L():e==="true"}function Z(e){typeof localStorage>"u"||typeof localStorage.setItem!="function"||(localStorage.setItem("bannerTitleEnabled",String(e)),U(e))}function U(e){if(typeof document>"u")return;document.documentElement.setAttribute("data-banner-title-enabled",String(e));const t=document.querySelector(".banner-home-text-overlay");t&&(e?t.classList.remove("user-hidden"):t.classList.add("user-hidden"))}export{T as B,k as D,m as L,p as S,b as W,v as a,E as b,_ as c,V as d,J as e,s as f,F as g,y as h,w as i,Y as j,Z as k,X as l,L as m,K as n,Q as o,c as p,j as q,N as r,G as s,q as t,x as u,z as v};
